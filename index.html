<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arin Mukherjee - Home</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="page">
        <header class="hero">
            <div class="hero-text">
                <h1 class="hero-name">Arin Mukherjee</h1>
                <p class="hero-tagline">
                    M.Eng student at Princeton University studying diffusion models.
                </p>
            </div>
        </header>

        <main>
            <section class="gif-showcase">
                <h2 class="section-title">Projects</h2>

                <div class="gif-carousel" id="gifCarousel">
                    <div class="gif-main">
                        <!-- This image will be updated by JavaScript -->
                        <img id="gifMainImage" src="" alt="GIF in focus">
                    </div>
                    <div class="gif-filmstrip" id="gifThumbs">
                        <button class="gif-frame" data-src="gifs/example-1.gif" aria-label="GIF 1">
                            <span>Birth-Death Diffusion</span>
                        </button>
                        <button class="gif-frame" data-src="gifs/example-2.gif" aria-label="GIF 2">
                            <span>Neuromechanical Functions</span>
                        </button>
                        <button class="gif-frame" data-src="gifs/example-3.gif" aria-label="GIF 3">
                            <span>Yasse-RL Halaby</span>
                        </button>
                    </div>
                </div>
            </section>
        </main>

        <footer class="site-footer">
            <p>Â© <span id="year"></span> Arin Mukherjee</p>
        </footer>
    </div>

    <script>
        (function() {
            // Footer year
            var yearSpan = document.getElementById('year');
            if (yearSpan) yearSpan.textContent = new Date().getFullYear();

            // GIF carousel logic
            var thumbsContainer = document.getElementById('gifThumbs');
            var mainImage = document.getElementById('gifMainImage');
            if (!thumbsContainer || !mainImage) return;

            var thumbs = Array.prototype.slice.call(thumbsContainer.querySelectorAll('.gif-frame'));
            if (thumbs.length === 0) return;

            var currentIndex = 0;
            var remainingCycles = 2; // show each GIF for two timer cycles before switching

            function setActive(index) {
                if (!thumbs[index]) return;
                currentIndex = index;

                thumbs.forEach(function(thumb, i) {
                    if (i === index) {
                        thumb.classList.add('active');
                    } else {
                        thumb.classList.remove('active');
                    }
                });

                var src = thumbs[index].getAttribute('data-src');
                if (src) {
                    mainImage.src = src;
                }
            }

            thumbs.forEach(function(thumb, index) {
                thumb.addEventListener('click', function() {
                    setActive(index);
                    remainingCycles = 2; // reset when user manually changes GIF
                });
            });

            // Initialize with the first GIF
            setActive(0);

            // Auto-rotate through available GIFs
            setInterval(function() {
                if (remainingCycles > 1) {
                    remainingCycles -= 1;
                    return; // keep showing the current GIF
                }

                var nextIndex = (currentIndex + 1) % thumbs.length;
                setActive(nextIndex);
                remainingCycles = 2;
            }, 4000);
        })();
    </script>
</body>

</html>